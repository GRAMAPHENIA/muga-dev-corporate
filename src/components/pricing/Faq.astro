---
const questions = [
  {
    id: 'faq-1',
    title: '¿Qué incluye el alquiler de la cabaña?',
    answer:
      'Todas nuestras cabañas incluyen cocina equipada, ropa de cama, WiFi y estacionamiento. Algunas opciones ofrecen jacuzzi y desayuno.',
  },
  {
    id: 'faq-2',
    title: '¿Se pueden realizar reservas para grupos grandes?',
    answer:
      'Sí, contamos con cabañas de diferentes capacidades y opciones para grupos familiares o de amigos.',
  },
  {
    id: 'faq-3',
    title: '¿Qué actividades se pueden realizar cerca?',
    answer:
      'Ofrecemos actividades guiadas como trekking, pesca, paseos en kayak y excursiones a parques nacionales.',
  },
  {
    id: 'faq-4',
    title: '¿Cómo se realiza el pago?',
    answer: 'Podés abonar mediante transferencia bancaria, tarjeta de crédito o débito.',
  },
  {
    id: 'faq-5',
    title: '¿Hay descuentos por estancias prolongadas?',
    answer: 'Sí, ofrecemos ofertas especiales para quienes reservan por más de una semana.',
  },
  {
    id: 'faq-6',
    title: '¿Cómo solicito asistencia durante la estadía?',
    answer:
      'Nuestro equipo está disponible para ayudarte en todo momento. Podés contactarnos por WhatsApp, teléfono o email.',
  },
];
---

<section class="py-16 sm:py-20">
  <div class="mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8">
    <div class="grid gap-12 lg:grid-cols-3 lg:gap-8">
      <div>
        <h2 class="font-heading text-3xl font-medium tracking-tight sm:text-4xl">
          Preguntas frecuentes
        </h2>
      </div>
      <div class="lg:col-span-2">
        <dl class="-mt-3" id="faq-list">
          {
            questions.map((question, index) => (
              <div class="rounded-3xl px-4 transition" id={`faq-item-${index}`}>
                <dt class="text-lg transition">
                  <button
                    type="button"
                    class="group block w-full py-6 text-left transition focus-visible:outline-none"
                    aria-controls={question.id}
                    aria-expanded="false"
                    onclick={`
                      var dd = document.getElementById('${question.id}');
                      var item = document.getElementById('faq-item-${index}');
                      var chevron = document.getElementById('chevron-${index}');
                      var expanded = dd.classList.contains('faq-open');
                      if (!expanded) {
                        dd.classList.add('faq-open');
                        dd.style.maxHeight = dd.scrollHeight + 'px';
                        dd.style.opacity = '1';
                        item.style.background = 'rgba(255,255,255,0.8)';
                        chevron.style.transform = 'rotate(180deg)';
                        chevron.style.transition = 'transform 0.3s ease';
                        this.setAttribute('aria-expanded', 'true');
                      } else {
                        dd.style.maxHeight = '0px';
                        dd.style.opacity = '0';
                        setTimeout(function(){ dd.classList.remove('faq-open'); }, 300);
                        item.style.background = 'transparent';
                        chevron.style.transform = 'rotate(0deg)';
                        chevron.style.transition = 'transform 0.3s ease';
                        this.setAttribute('aria-expanded', 'false');
                      }
                    `}
                  >
                    <div class="flex items-center justify-between rounded-3xl group-focus-visible:outline group-focus-visible:outline-2 group-focus-visible:outline-offset-2 group-focus-visible:outline-primary-950">
                      <span class="font-medium">{question.title}</span>
                      <span class="ml-6 flex h-7 items-center">
                        <svg
                          id={`chevron-${index}`}
                          class="h-6 w-6 rotate-0 transform text-primary-600"
                          style="transform: rotate(0deg); transition: transform 0.3s ease;"
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                          aria-hidden="true"
                        >
                          <path d="M11.9997 13.1714L16.9495 8.22168L18.3637 9.63589L11.9997 15.9999L5.63574 9.63589L7.04996 8.22168L11.9997 13.1714Z" />
                        </svg>
                      </span>
                    </div>
                  </button>
                </dt>
                <dd
                  class="faq-dd pb-6 pr-6"
                  id={question.id}
                  style="max-height:0; opacity:0; overflow:hidden; transition:max-height 0.3s ease, opacity 0.3s ease;"
                >
                  <p class="text-base text-primary-950">{question.answer}</p>
                </dd>
              </div>
            ))
          }
        </dl>
      </div>
    </div>
  </div>
</section>
